/*
Generated time: May 16, 2023 12:09
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
!async function(){let f=!1,b=!1,O=0,g=[],d=[],P=null,M=0,H=[],o,D="",e=null,R=!1;const h=Shopify.theme.id;let q=null;/(iPhone|iPad|iPod|iOS|Android|SymbianOS|Windows Phone|webOS|BlackBerry)/i.test(navigator.userAgent);"undefined"==typeof ShopifyAnalytics&&await new Promise((e,t)=>{setTimeout(()=>{e()},1500)}),window.ShopifyAnalytics&&ShopifyAnalytics.meta.product?O=ShopifyAnalytics.meta.product.id:Shopify.designMode&&(N("#em_product_id")||await new Promise((e,t)=>{setTimeout(()=>{e()},1e3)}),O=JSON.parse(N("#em_product_id").textContent));let y=0;switch(C("#shopify-features")?y=JSON.parse(C("#shopify-features")[0].outerText).shopId:window.ShopifyAnalytics&&ShopifyAnalytics.lib&&ShopifyAnalytics.lib.config&&(y=ShopifyAnalytics.lib.config.Trekkie.defaultAttributes.shopId),y){case 55605198922:D+=`#email-me-frame .frame-title, #email-me-frame input {
        font-family: 'Sabon Next';
        }`;break;case 53793915066:136421834975===h&&(D+=".product-restore-email{max-width:initial !important}");break;case 11881800:e=function(){insertStyle.textContent+=`button.custom_pers.product-add-to-cart-btn {
          background-color: #fff !important;
          color: #000;
         }`,ce[0].insertAdjacentHTML("beforebegin",`<div style="text-align: center;color: #000;margin-bottom: 14px">
            GET NOTIFIED WHERE BACK IN STOCK</div>`)};case 67088286014:e=function(){N("#email-me-frame")&&(N(".frame-email-logo").innerHTML=`
              <svg class="icon" style="width:19px;height: 19px;margin-top:5px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2253" height="128" width="128"><path d="M871.673333 770.813333l-165.933333-165.94a53.4 53.4 0 0 0-75.426667 0l-37.713333 37.713334c-21.333333 21.333333-90.413333 0.1-150.846667-60.34S360.046667 452.76 381.413333 431.4l37.713334-37.713333a53.4 53.4 0 0 0 0-75.426667l-165.94-165.933333a53.393333 53.393333 0 0 0-75.42 0l-37.713334 37.713333c-27.866667 27.866667-44.84 64.52-50.46 108.946667-5.213333 41.206667-0.406667 87.42 14.28 137.333333C133.333333 536.586667 199.773333 642 290.9 733.1S487.42 890.666667 587.653333 920.126667c36.926667 10.86 71.813333 16.32 104.146667 16.32a264.333333 264.333333 0 0 0 33.213333-2.04c44.426667-5.62 81.08-22.593333 108.946667-50.46l37.713333-37.713334a53.393333 53.393333 0 0 0 0-75.42z" fill="#bb8461" p-id="2254"></path></svg>
            `)};break;case 56661573841:e=function(){var e;document.querySelector(".sms-type")&&(e=new Event("click"),document.querySelector(".sms-type").dispatchEvent(e))};break;case 71669449038:e=function(){C(".email-frame-body input").forEach(e=>e.removeAttribute("type"))};break;case 19073267:e=function(){N("#join-mailing-list")&&N("#join-mailing-list").removeAttribute("checked")};break;case 48441458840:if("collection"===ShopifyAnalytics.meta.page.pageType){137027780861===h&&(D+=".quick-add__submit.button.button--full-width.button--secondary[disabled]{display:none}"),e=function(){C(".product-restore-email").forEach(e=>e.parentNode.style.gridRowStart=3)};break}case 73761816874:R=!0}o=Shopify.locale;let U={getProsVariantsData(e){var t=r+"api/v1/customer/getVariantBtStatus",i={shopId:y};return Object.assign(i,e),z(t,i)},getCollBtnStyle(){return z(r+"api/v1/getCollectionButtonStyle",{shopId:y,shop_language:o})}};const V=Shopify.shop,v=isDebug,r=apiBaseUrl;let F={},l=[];{let e="";window.ShopifyAnalytics&&ShopifyAnalytics.meta.page.customerId&&(e=ShopifyAnalytics.meta.page.customerId,t={shopId:y,customerId:e},z(r+"api/v1/customer/getCustomerInfo",t).then(e=>{var{apiCode:e,customer:t}=e;200===e&&t&&(v&&console.log("Get Customer Info Success"),F=JSON.parse(JSON.stringify(t)))}))}var t=await ke();i=`<style>
        body {
          --sa-border-normal: 1px solid #d9d9d9;
        --sa-border-hover: 2px solid skyblue;
        --sa-button-height-normal: 44px;
        --sa-border-radius-input: 4px;
        --sa-border-radius-button: 4px;
        --sa-border-color: #d9d9d9;
        --sa-disabled-bgc: #f2f2f2;
        --sa-btn-hover-bgc: #f6f6f7;
        --sa-input-padding: 8px;
    }
        ${D}
        #email-me-frame * {
          box-sizing: border-box;
    }
        #email-me-frame *:empty {
          display: inherit;
    }
        .email-me-button{
          width: 100%;
        height: var(--sa-button-height-normal);
        /*background-color: rgb(51, 51, 51);*/
        /*border-radius: 7px;*/
        /*color: white;*/
        border-width: 0px;
        font-size: 15px;
        cursor: pointer;
        letter-spacing: 1px;
        border-radius: var(--sa-border-radius-button);
        align-items:center;
        display: flex;
        justify-content: center;
        box-sizing: border-box;
        transition: all linear .15s;
        position: relative;
  }
        .email-me-inlineButton {
          display: none;
  }
        #email-me-frame {
          position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.2);
        z-index: 9999999;
        display: none;
  }

        #email-me-frame input {
          background-color: #ffffff;
        border: 1px solid var(--sa-border-color);
        border-radius: var(--sa-border-radius-input);
  }

        #email-me-frame .email-frame-content{
          width: 65%;
        /*height: 358px;*/
        max-width: 398px;
        min-width: 300px;
        background: white;
        border-radius: 7px;
        padding-bottom:16px;
        border: 1px solid var(--sa-border-color);
        box-shadow: 0 0 18px #00000030;
        animation: fadeIn .15s linear;
        position: fixed;
        top: 50%; left: 50%;
        bottom: 0;
        height: 100%;
        max-height: 508px;
        transform: translate(-50%, -50%);
        overflow-y: scroll;
  }
        .email-frame-content::-webkit-scrollbar {
          /*滚动条整体样式*/
          width: 4px; /*高宽分别对应横竖滚动条的尺寸*/
        height: 1px;
  }
        .email-frame-content::-webkit-scrollbar-thumb {
          /*滚动条里面小方块*/
          border-radius: 10px;
        background: #a9a9a9;
  }
        .email-frame-content::-webkit-scrollbar-track {
          /*滚动条里面轨道*/
          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
        background: #ededed;
        border-radius: 10px;
  }

        #email-me-frame .frame-close {
          margin-top: 10px;
        margin-bottom: 10px;
        margin-right: 5px;
        cursor: pointer;
        display: inline-block;
        width: 100%;
        height: 2px;
        background: #333;
        transform: rotate(
        45deg
        );
  }
        #email-me-frame .frame-close::after{
          content: "";
        display: block;
        height: 2px;
        background: #333;
        transform: rotate(
        -90deg
        );
  }

        #email-me-frame .email-frame-header{
          display: flex;
        justify-content: center;
        clear: both;
        padding-top: 2px;
        padding-left: 30px;
        margin-bottom: 7px;
        font-family: "Arial",sans-serif;
  
  }

        #email-me-frame .close-box{
          width: 20px;
        height: 19px;
        float: right;
        margin-right: 5px;
        margin-top: 5px;
        cursor: pointer;
  }

        #email-me-frame .frame-email-logo svg{
          background-size: 25px 25px;
        width: 24px;
        margin-top: 3px;
  }

        #email-me-frame .frame-title{
          padding-left: 13px;
        flex: 1;
        color:#1A1B18;
        font-size: 16px;
        font-weight: 600;
        padding-top: 3px;
  }

        #email-me-frame .split-line {
          border: 1px solid var(--sa-border-color);
  }

        #email-me-frame .email-frame-body{
          padding-left: 30px;
        padding-right: 30px;
  }

        #email-me-frame .frame-body-content{
          letter-spacing: 0.01rem;
        line-height: 1.6rem;
        font-weight: 500;
        font-size: 15px;
        margin-top:16px;
        margin-bottom: 5px;
        color:#1A1B18;
  }

        #email-me-frame .buyer-email,
        #email-me-frame .buyer-phone-input,
        #email-me-frame .buyer-name{
          border-radius: var(--sa-border-radius-input);
        border: 1px solid var(--sa-border-color);
        margin: 10px 0 0 0;
        width: 100%;
        font-size: 15px ;
        outline: none !important;
        height: var(--sa-button-height-normal) !important;
        color: #000 !important;
        background: #fff !important;
        padding: var(--sa-input-padding) !important;
  }
        .buyer-phone-input {
          border-left: none;
  }

        #email-me-frame .notify-type-toggler {
          display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
        font-size: 15px ;
        height: var(--sa-button-height-normal) !important;
        color: #000 !important;
        background: #fff !important;
        margin-top: 10px;
  }
  .notify-type-toggler > div {
          flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid var(--sa-border-color);
        height: 100%;
        cursor: pointer;
        transition: all linear .14s;
  }
  .notify-type-toggler > div:hover {
          background: var(--sa-btn-hover-bgc)
  }
  .notify-type-toggler > div:nth-child(1) {
          border-radius: var(--sa-border-radius-button) 0 0 5px;
  }
  .notify-type-toggler > div:nth-child(2) {
          border-left: 0;
        border-radius: 0 5px 5px 0;
  }
        .join-mailing-container {
          display: flex;
        align-items: center;
        font-size: 12px;
        line-height: 12px;
        margin-top: 4px;
  }
        .join-mailing-listLabel {
          margin: 0 0 0 8px;
        color: #333333 !important;
  }
        #email-me-frame .buyer-phone-block {
          display: flex;
        align-items: center;
        justify-content: space-between;
        position: relative;
        height: var(--sa-button-height-normal);
        padding: var(--sa-input-padding);
  }
        #email-me-frame .country-selector {
          width: 54px;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        border: 1px solid var(--sa-border-color);
        cursor: pointer;
  }
        #email-me-frame .country-selector:hover {
          background: var(--sa-disabled-bgc);
  }
        #email-me-frame .country-selector-list {
          max-width: 120px;
        position: absolute;
        border: 1px solid var(--sa-border-color);
        border-radius: 8px;
        background-color: #fff;
        list-style: none;
        padding: 0px;
        max-height: 120px;
        overflow-y: scroll;
        margin-bottom: 50%;
  }
        #email-me-frame .country-selector-list li {
          display: flex;
        flex-wrap: nowrap;
        justify-content: space-between;
        align-items: center;
        padding: var(--sa-input-padding);
        cursor: pointer;
        transition: all linear .14s;
        bottom: 0;
  }
        #email-me-frame .country-selector-list li:hover {
          background-color: #eeeeee;
  }
        .buyer-phone {
          outline: none;
        flex: 1;
        transition: all linear .14s;
        border: var(--sa-border-normal);
        border-radius: var(--sa-border-radius-button);
  }
        input::-webkit-input-placeholder{
          color:gray;
        font-size:15px;
  }

        input::-moz-placeholder{   /* Mozilla Firefox 19+ */
          color:gray;
        font-size:15px;
  }
        input:-moz-placeholder{    /* Mozilla Firefox 4 to 18 */
          color:gray;
        font-size:15px;
  }
        input:-ms-input-placeholder{  /* Internet Explorer 10-11 */
          color:gray;
        font-size:15px;
  }


        #email-me-frame .frame-submit{
          position: relative;
  }

        /* loading的代码 */
        .frame-submit.loading {
          pointer-events: none;
        cursor: not-allowed;
  }
        .frame-submit.loading::after {
          content: '';
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border-bottom: 2px solid #ddd;
        border-right: 2px solid #ddd;
        animation: spin ease-in-out 0.8s infinite;
        position: absolute;
        top: 11px;
        left: 50%;
        transform: translate(-50%, -50%);
  }
        .frame-submit.loading .email-me-submitButton {
          opacity: 0;
  }
        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
    100% {
          transform: rotate(360deg);
    }
  }

        #email-me-frame .selected-unavailable-variant{
          border-radius: var(--sa-border-radius-button);
        border: 1px solid var(--sa-border-color);
        margin: 10px 0 0 0;
        width: 100%;
        height: var(--sa-button-height-normal);
        font-size: 15px;
        outline: none;
        color: #000;
        padding: var(--sa-input-padding) !important;
        background: #fff;
  }

        #email-me-frame .invalid-email-tips{
          color: rgb(219, 17, 42);
        font-weight: 500;
        letter-spacing: 0;
        visibility: hidden;
        line-height: 24px;
        font-size: 12px;
  }

        #email-me-frame .email-frame-footer{
          padding: 0 30px;
        margin-top: 20px;
  }

        #email-me-frame .email-frame-footer .email-footer-tips{
          font-size: 14px;
        font-family: "Arial",sans-serif;
        line-height: 1.1em;
        color: #ccc;
  }
        #email-me-frame .email-app-link{
          color: #008ddd;
  }
        #email-me-frame .email-app-link:hover{
          color: #0089d6;
  }
        #email-me-frame .email-app-link:visited{
          color: #008ddd;
  }
        #email-me-frame .email-app-link:active{
          color: #008ddd;
  }
        #email-me-frame .email-provider {
          margin-top: 8px;
        text-align: center !important;
        font-family: "Arial",sans-serif;
        color: black;
        font-size: 12px;
  }
        .successSub_header img {
          width: 32px;
        margin: 0;
}
        .successSub {
          transition: width 0.5s ease-out, opacity 0.5s ease-in, visibility 0.5s ease-in;
        max-width: 350px;
        background: rgb(255, 255, 255);
        padding: 20px;
        border-radius: 7px;
        border:1px solid #445958 ;
        display: block;
        z-index: -1;
        position: fixed;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        visibility: hidden;
        opacity: 0;
        color: #464646;
}
        .successSub_active {
          width: 100%;
        visibility: visible;
        opacity: 1;
        z-index: 999999999;
}
        .product-restore-email img {
          width: 44px;
        margin: 0;
}
        #email-me-frame img {
          /* width: 100%; */
          width: 50px;
        margin-right: 8px;
}
        .successSub_header {
          width: 100%;
        align-items: center;
        justify-content: space-between;
        display: flex;
}
        .successSub_header_text {
          font-weight: 700;
        flex: 1;
        padding-left: 8px;
}
        .successSub_close-box {
          width: 20px;
        height: 20px;
        padding: 4px;
        cursor: pointer;
        display: flex;
        align-items: center;
        transform: translate(8px, -16px);
}
        .successSub_frame-close {
          margin-bottom: 10px;
        cursor: pointer;
        display: inline-block !important;
        width: 100%;
        height: 1px;
        background: #333;
        transform: rotate(
        45deg
        );
}
        .successSub_frame-close::after {
          content: '';
        display: block;
        height: 1px;
        background: #333;
        transform: rotate(
        -90deg
        );
}
        .successSub_text {
          margin-top: 8px;
        font-size: 20px;
        font-weight: 500;
        line-height: 1.5;
}
        .product-restore-email{
          justify-content: flex-start;
        width: 100%;
        flex:1;
  }
        .product-restore-email input {
          background: #ffffff;
  }
        #product-restore-email-float{
          display: flex;
        z-index:99999999999;
        justify-content: center;
        position:fixed;

  }
        .float-btn-left{
          transform: rotate(90deg) translateY(-100%);
        transform-origin: 0% 0%;
        left:0;
  }
        .float-btn-right{
          transform: rotate(-90deg) translateY(-100%);
        transform-origin: 100% 0%;
        right:0;
  }
        #product-restore-email-float .email-me-button{
          padding: 0.8rem 1.2rem;
  }
        #email-me-frame .email-provider span{
          color: blue;
  }
        @keyframes fadeIn {
          0% {
            opacity: .6;
          }
      100% {
          opacity: 1;
      }
  }
        /* 滚动条设置没有生效 */
        /* 滚动条整体部分，可以设置宽度啥的 */
        #email-me-frame .country-selector-list ::-webkit-scrollbar {
          width: 2px;
        height: 2px;
  }
        /* 滚动条两端的按钮 */
        #email-me-frame .country-selector-list ::-webkit-scrollbar-button {
          display: none !important;
  }
        /* 外层轨道 */
        #email-me-frame .country-selector-list ::-webkit-scrollbar-track  {
          display: none !important;
  }
        /* 内层滚动槽 */
        #email-me-frame .country-selector-list ::-webkit-scrollbar-track-piece{
          display: none !important;
  }
        /* 滚动的滑块  */
        #email-me-frame .country-selector-list ::-webkit-scrollbar-thumb {
          background-color:#ff9900;
        background-color:rgba(255,153,0, 0.6);
        border-radius: 10px;
  }
        .type-selected {
          pointer-events: none;
        background-color: var(--sa-disabled-bgc);
  }

      </style>`,document.head.insertAdjacentHTML("beforeend",i),document.head.insertAdjacentHTML("beforeend",'<style id="email-insert-style"></style>'),"string"==typeof t?console.log("Init info: ",t):console.log("App is on!");const J=t["MAX_SEARCH_TIMES"];let W=t["times"];var i={btnRadius:"",btnFontSize:"",inlineBtnWidth:"",inlineBtnHeight:"",btnFontWeight:"initial",popupStyleUrl:"getPopupStyle",buttonStyleUrl:"getButtonStyle",collButtonStyleUrl:"getCollectionButtonStyle",integrationUrl:"integrate/getIntegration",floatBtnPosition:"float-btn-right",buttonData:{btn_value:"",btn_color:"",font_color:"",btn_margin_top:"",btn_margin_bottom:"",collection_btn_value:"",collection_is_show:0,inline_status:0,float_btn_value:"",float_btn_color:"",float_font_color:"",btn_insert_customized:0,btn_insert_el:"",btn_insert_type:"",offset:0,float_status:0,is_branding_removed:0},generalData:{btn_display_all:0,btn_font_family:"inherit",btn_font_size:"14",btn_font_weight:"inherit",btn_hover_animation:0,btn_hover_color:"#333333",btn_hover_font_color:"#ffffff",btn_margin_top:"0",btn_margin_bottom:"0",btn_border_radius:"0",btn_border_color:"transparent",btn_customize_css:""},popupData:null,frameBtnColor:"#333333",frameBtnFontColor:"#ffffff",insertType:"afterend",insertEl:null,selectedType:{},iti:null,selBtnStatus:0,btnStyleSwitch:0,popupStyleSwitch:0,inteStatus:0,formAction:"https://"+document.domain+"/cart/add"};const{buttonStyleUrl:G,collButtonStyleUrl:Z,popupStyleUrl:X,integrationUrl:Y,floatBtnPosition:K,buttonData:_,generalData:Q}=i;let{iti:p,popupData:u,inlineBtnHeight:ee,inlineBtnWidth:te,btnRadius:ie,btnFontSize:ae,btnFontWeight:ne,insertEl:oe,insertType:x,selectedType:m,selBtnStatus:a,btnStyleSwitch:re,popupStyleSwitch:le,inteStatus:se}=i;i={inlineBtnElement:null,floatBtnElement:null,emailFrameElement:null,inlineEmailDiv:null,floatEmailDiv:null,invalidTip:null,successFrame:null,variantSelector:null,closeBox:null,submitBtn:null,soldOutBtn:null,emailInput:null,nameInput:null,smsInput:null,mailingCheckbox:null,trueForms:[],exactForm:null};let{inlineBtnElement:s,floatBtnElement:n,emailFrameElement:c,inlineEmailDiv:ce,floatEmailDiv:de,invalidTip:w,successFrame:S,variantSelector:k,closeBox:pe,submitBtn:ue,emailInput:E,nameInput:me,smsInput:A,mailingCheckbox:fe,soldOutBtn:I,exactForm:be}=i;const $=i["trueForms"];i=function(){var e={selectVariantId:"",unVariantOptions:[],currentVariantOption:null,addOptionsStatus:0,productTitle:"",initUrl:document.URL};{var t,i,a;f&&(t=JSON.parse(N("#em_product_variants").textContent),i=t.some(e=>!1===e.available),a=JSON.parse(N("#em_product_selected_or_first_available_variant").textContent),Object.assign(e,{variantData:t,currentVariant:a,available:a.available,selectVariantId:a.id,hasAvailableV:i,listenVariantFlag:!0}))}return e}();let{currentVariant:ge,available:he,selectVariantId:j,productTitle:ye,currentVariantOption:ve,addOptionsStatus:_e,initUrl:xe,listenVariantFlag:we}=i,{variantData:B,unVariantOptions:T}=i;const Se=".shopify-payment-button";async function ke(){var e=window["ShopifyAnalytics"],e=e&&e.meta&&e.meta.page&&e.meta.page.pageType,t={};let i=[];if("product"===e||N("#sealapps-bis-widget")?(f=!0,O&&(t.productIds=[O],t.type=2)):"collection"!==e&&!R||(b=!0,i=await Ae(),v&&console.log(i),null===i)||(M=i.length,e=function(t){let i={aNodeList:[],prosEle:[]},a=0,n=t[0],o;for(let e=0;e<t.length;e++){n=t[e],o=null;for(let e=0;e<5;e++){if("A"===(n=n.parentNode).tagName&&n.href&&-1!==n.href.indexOf("/products/")){o=n;break}var r=N('a[href*="/products/"]',n);if(r){o=r;break}}o?(a++,i.prosEle.push(t[e]),i.aNodeList.push(o)):t[e]=null}return i}(i),i=e.prosEle,t.handles=function(i){var a=[];if(i.length)for(let t=0;t<i.length;t++)if(i[t]&&"A"===i[t].tagName&&i[t].getAttribute("href")){var n=i[t].getAttribute("href"),o=n.lastIndexOf("/products/")+10,r=n.indexOf("?");let e="";-1===(e=-1!=r?n.substring(o,r):n.substring(o)).indexOf(".jpg")&&(e=decodeURI(e),a.push(e))}else a.push("undefined");return a}(e.aNodeList),t.type=1),!b&&!f)return"not collectionPage or productPage";if(e={baseUrl:r},(n=Fe("emailCustomerId"))&&(a=Fe("variant"))&&(e=e["baseUrl"],n={id:n,shopId:y,variantId:a},z(e+"api/v1/email/changeEmailStatus",n)),0!==Object.keys(t).length){var a=await U.getProsVariantsData(t);if(v&&console.log("res",a),(48441458840!=y||1!==t.type)&&1!==a.btStatus)return"collectionPage btn disable";var{apiCode:e,products:n}=a;f?200===e&&n&&(l=n[0].variants.map(e=>e.variantRid)):b&&n.forEach((e,t)=>{1===e.productStatus&&(g.push(i[t]),H.push(t),d.push({proId:e.productId,productName:e.productName,variants:e.variants}))}),v&&console.log("Get Product Status Success")}return 0==(l.length||d.length)?(b&&Oe(),"All btn of variants are hidden."):(0!==(t=C(`#product-restore-email-flag,
    #product-restore-email-float,.product-restore-email`)).length?t.forEach(e=>e.remove()):document.body.insertAdjacentHTML("beforeend",`
      <div id="product-restore-email-flag" style="display: none;"></div>
      `),{debug:v,baseUrl:r,MAX_SEARCH_TIMES:50,times:0})}async function Ee(){f?function s(){return new Promise(t=>{const i=C("form");for(let e=0;e<i.length;e++)-1!==i[e].action.indexOf("/cart/add")&&$.push(i[e]);if($.length||t({code:501,msg:"Search el failed"}),1==$.length)be=$[0],Ie($[0]);else for(let e=0;e<$.length&&!I;e++){const a=window.getComputedStyle($[e],null);if("visible"==a.visibility&&"none"!=a.display&&"0px"!=a.height&&"0"!=a.height&&"0px"!=a.width&&"0"!=a.width&&"auto"!=a.height){if(be=$[e],Ie($[e]),I){const n=I.parentElement,o=window.getComputedStyle(n,null);if("visible"==o.visibility&&"none"!=o.display&&0!=o.height&&0!=o.width)break}if(I=$[e].querySelector(Se))break;{const r=$[e].querySelectorAll("input[type='submit']");if(0!=r.length){I=r[0];break}const l=$[e].querySelectorAll("button");for(let e=0;e<l.length;e++)if("submit"==l[e].type){I=l[e];break}}}}if(I||be){const e={code:200,msg:"success"};oe=I?(x="afterend",I):(x="beforeend",be),t(e)}else W>=J?t({code:501,msg:"Search el failed"}):(W++,setTimeout(()=>{s().then(e=>t(e))},50))})}().then(e=>{v&&console.log("SearchParentEl finished");e=e.code;501===e?(console.log("Search Node Failed"),new Promise(e=>{Te(y,G).then(()=>{_.btn_insert_el||$e().type?e({code:200}):e({code:404})})}).then(e=>{200===e.code&&(je(),Be())})):200===e&&(v&&console.log("SearchParentEl success"),je(),Be())}):b&&Be()}async function Ae(){var e;let t="";switch(Shopify.theme.theme_store_id){case 887:case 1567:case 1356:case 1363:case 1368:case 1431:case 1434:case 1500:case 1499:case 1399:t=".card-information .price";break;case 829:t=".card__info>.card__price";break;case 775:t=".product-card__info>.product-card__price";break;case 796:t=".product-card>.price";break;case 730:t=".grid__item .grid-product__price-wrap";break;case 679:t=".grid-item .product-item--price";break;case 380:t=".grid__item .grid-link__meta";break;case 578:t=".grid__item .product__prices";break;case 857:t=".grid__item .grid-product__price";break;case 765:t=".product--details";break;case 849:t=".product-block__info";break;case 459:t=".product-info-inner .price";break;default:if(N("body.warehouse--v1"))t=".product-item .product-item__price-list";else{switch(h){case 129555497130:t=".collection-grid-item__meta";break;case 139843010841:t=".product-item-meta";break;case 117705834682:t=".grid-view-item";break;case 3639214169:t=".product-index .product-info"}3639214169===y&&139935711534===h?t=".product-index .product-info":61058973863===y&&130619900071===h?t=".product-block .product-info":71594410265===y&&143828386073===h?t=".product-item__info-inner":68210557218===y&&142585594146===h?t=".card-information .price":25981404===y&&132703387810===h&&(t=".product-item-meta")}}return(t=48441458840===y&&137027780861===h?".collection .card__information":t)?(0==(e=Array.from(C(t))).length&&await new Promise((e,t)=>{setTimeout(()=>{e()},1500)}),e.filter(e=>null!==e.offsetParent)):null}function Ie(e){var t=e.querySelectorAll("button"),e=[...e.querySelectorAll("input[type='submit']"),...e.querySelectorAll("input[type='button']")],i=[...t,...e];if(i.length){for(let e=0;e<i.length;e++)if("submit"==i[e].type&&"add"==i[e].name||"submit"==i[e].type&&"button"==i[e].name){I=i[e];break}if(!I)for(let e=0;e<i.length;e++)if("submit"==i[e].type){I=i[e];break}if(!I)for(let e=0;e<i.length;e++)if(i[e].disabled){I=i[e];break}(I=I||i[0])&&(t="DIV"==(t=I).tagName?t.querySelector("button"):t)&&("auto"!=(t=window.getComputedStyle(t,null)).width&&t.width?-1!==t.width.indexOf("px")&&120<parseFloat(t.width)&&(te=t.width):te="",ee="auto"!=t.height&&t.height?t.height:"",ie=t.borderRadius,ae=t.fontSize,ne=t.fontWeight)}}function $e(){var t=C(`.action-button, [class*=add-to-cart], [class*=add_to_cart], [id*=add_to_card],
     [id*=add-to-card], [data-add-to-cart], .sold-out, #out-of-stock-gl,.option-selectors`);if(t.length)for(let e=0;e<t.length;e++){var i=Number(window.getComputedStyle(t[e],null).width.split("px")[0]);if(!isNaN(i)&&64<i)return{type:"afterend",ele:t[e]}}var a=C(".action-button, .tt-swatches-container.tt-swatches-container-js");if(a.length)for(let e=0;e<a.length;e++){var n=window.getComputedStyle(a[e],null);if("visible"==n.visibility&&"none"!=n.display&&"0px"!=n.height&&"0"!=n.height&&"0px"!=n.width&&"0"!=n.width&&"auto"!=n.height)return{type:"beforeend",ele:a[e]}}return{type:""}}function je(){v&&console.log("Handle Basic Data"),I&&"flex"==(t=window.getComputedStyle(I.parentElement,null)).display&&"row"==t.flexDirection&&"nowrap"==t.flexWrap&&(I.parentElement.style.flexWrap="wrap");var t=B[0];try{ye=t.name.split("-")[0].trim(),61058973863===y&&(ye=t.name)}catch(e){ye=t.public_title&&0<t.public_title.length-3?t.name.substr(0,t.name.length-t.public_title.length-3):t.name}}function Be(){v&&console.log("Get All Style"),document.head.insertAdjacentHTML("beforeend",'<style class="email-style"></style>'),q=document.querySelector(".email-style");let e,t="";f?t=G:b&&(t=Z),v&&console.log("isProPage",f),v&&console.log("collButtonStyleUrl",Z),e=Te(y,t),v&&console.log("btnPromise",e);var i=function(e,t){v&&console.log("Get Popup Style");t=r+"api/v1/"+t;return z(t,{shopId:e,shop_language:o}).then(e=>{v&&console.log("Get Popup Style Success");var{code:e,data:t}=e;if(200===e&&t)switch(le=1,(u=JSON.parse(JSON.stringify(t))).popup_option){case 1:m.type="email";break;case 2:m.type="sms";break;case 3:m.type="email"}})}(y,X),a=function(e,t){v&&console.log("Get Integration");t=r+"api/v1/"+t;return z(t,{shopId:e}).then(e=>{v&&console.log("Get Integration Success");var{code:e,data:t}=e;200===e&&t&&(v&&console.log("inte",t),se=t.find(e=>e.is_enable))})}(y,Y);Promise.all([e,i,a]).then(()=>{v&&console.log("renderBtnAndPopup");var{toggler:e,ipt:t,mailingList:i}=function(e){s;let t,i,a;if(1===(e=u.popup_option||e))t=`
        <div>
          <input class="buyer-email" type="text" placeholder="${u.popup_placeholder_text}">
          <div class="invalid-email-tips">${u.popup_validation_text}</div>
        </div>
      `;else if(2===e)t=`
        <div>
          <div class="buyer-phone-container">
            <input type="text" class="buyer-phone">
          </div>
          <div class="invalid-email-tips">${u.popup_validation_text}</div>
        </div>
      `;else if(3===e){t=`
      <div>
        <input class="buyer-email" type="text" placeholder="${u.popup_placeholder_text}">
        <div class="buyer-phone-container">
          <input type="text" class="buyer-phone">
        </div>
        <div class="invalid-email-tips">${u.popup_validation_text}</div>
      </div>
      `;var n=`<div class="email-type">
          ${u.popup_tab_email}
        </div>`,o=`<div class="sms-type">
          ${u.popup_tab_sms}
        </div>`;let e="";e=56661573841===y?o+n:n+o,i=`
      <div class="notify-type-toggler">
        ${e}
      </div>
      `}(function(e){switch(e){case 1:case 2:Ve(`<style>
        #email-me-frame .email-frame-content {
          max-height: 412px !important;
          }
      </style>`);break;case 3:Ve(`<style>
        #email-me-frame .email-frame-content {
          max-height: 459px !important;
          }
      </style>`)}})(e),se&&(a=`
      <div class="join-mailing-container">
        <input id="join-mailing-list" type="checkbox" checked/>
        <label for="join-mailing-list" class="join-mailing-listLabel">
        ${u.popup_opt_in_text}
        </label>
      </div>
    `);return{ipt:t,toggler:i,mailingList:a}}(),e=`
      <div class="successSub">
        <div class="successSub_header">
          <img src="https://cdn.shopify.com/s/files/1/0576/6063/7389/t/1/assets/success.png?v=1629367773" />
          <div class="successSub_header_text">${u.success_frame_title}</div>
          <div class="successSub_close-box">
            <div class="successSub_frame-close"></div>
          </div>
        </div>
        <div class="successSub_text">
          ${u.success_frame_content}
        </div>
      </div>
      <div id="email-me-frame">
        <div class="email-frame-content">
          <div class="close-box">
            <div class="frame-close"></div>
          </div>
          <div class="email-frame-header">
            <div class="frame-email-logo">
              <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 5.324V15.5A1.5 1.5 0 001.5 17h17a1.5 1.5 0 001.5-1.5V5.324l-9.496 5.54a1 1 0 01-1.008 0L0 5.324z"
                  fill="#5C5F62" />
                <path d="M19.443 3.334A1.494 1.494 0 0018.5 3h-17c-.357 0-.686.125-.943.334L10 8.842l9.443-5.508z"
                  fill="#5C5F62" />
              </svg>
            </div>
            <div class="frame-title">${u.popup_header_text}</div>
          </div>
          <div class="split-line" style="border: 1px solid #d9d9d9;"></div>
          <div class="email-frame-body">
            <div class="frame-body-content">
              <span>${ye}</span>
            </div>
            <div>
              <select class="selected-unavailable-variant"></select>
            </div>
            ${e||""}
            <div>
              <input class="buyer-name" type="text" placeholder="${u.popup_name_placeholder_text}">
            </div>
            ${t}
            ${i||""}
            <div class="frame-submit">
              <div class="email-me-button email-me-submitButton" style=" text-align:center; color: ${u.popup_btn_font_color}; background-color:  ${u.popup_btn_color}; border-radius: ${ie}; font-size: ${ae}; ">
                ${u.popup_btn_value}
              </div>
            </div>
          </div>
          <div class="email-frame-footer">
            <div class="email-footer-tips">
              <span>${u.popup_footer_text}</span>
            </div>
          </div>
          <div class="email-provider" style="display: ${_.is_branding_removed?"none":""};">
            Powered by <span><a class="email-app-link" target="_blank" href="https://apps.shopify.com/email-1?surface_detail=back+in+stock&surface_inter_position=1&surface_intra_position=10&surface_type=search">Sealapps</a></span>
          </div>
        </div>
      </div>`;document.body.insertAdjacentHTML("beforeend",e),(t=document.querySelector("#sealapps-bis-widget"))&&I&&"center"===getComputedStyle(I.parentNode).textAlign&&(q.textContent+="#sealapps-bis-widget{justify-content:center}"),new Promise(e=>{var{inline_status:t,float_status:i}=_;let a=0;if(t||b){var{font_color:t,btn_color:n,btn_value:o,collection_btn_value:r,btn_margin_top:l,btn_margin_bottom:s}=_;let e="";f?e=o:b&&(e=r);const c=`
      <div class="product-restore-email" style="margin-top: ${l}px; margin-bottom: ${s}px; max-width: ${te||"initial"}">
        <div class="email-me-button email-me-inlineButton" style="text-align:center; margin-top:0; color: ${t} ; background-color: ${n} ; height:${ee} ; border-radius: ${ie||"2px"} ; font-size: ${ae||"14px"} ; font-weight: ${ne||"inherit"};">
          ${e}
        </div>
      </div>`;if(f)try{v&&console.log("insert",oe,x),oe.insertAdjacentHTML(x,c),a++}catch(e){o=c,(r=$e()).type&&r.ele.insertAdjacentHTML(r.type,o),Le(),a++}else b&&(g.forEach((e,t)=>{var i;0==C(".product-restore-email",iparentNode=e.parentNode).length&&((i=document.createElement("div")).setAttribute("proId",d[t].proId),i.innerHTML=c,i.style.position="relative",i.style.zIndex="1",e.after(i))}),a++)}i&&({offset:l,float_font_color:s,float_btn_color:t,float_btn_value:n}=_,r=`
      <div id="product-restore-email-float" style="top:${l+"px"}" class="${K}">
        <div class="email-me-button email-me-floatButton" style="text-align:center; display:none; color: ${s} ; background-color:  ${t} ; border-radius: ${ie} ; font-size: ${ae}; font-weight: ${ne}; ">
          ${n}
        </div>
      </div>`,document.body.insertAdjacentHTML("afterbegin",r),a++),0<a?e({code:200,msg:"Success!"}):e({code:404,msg:"Insert failed"})}).then(e=>{if(v&&console.log("renderButton success"),200===e.code){if(He(),f){e=document.URL;{const t=history.pushState,i=(history.pushState=function(){var e=t.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),e},history.replaceState);history.replaceState=function(){var e=i.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),e},window.addEventListener("popstate",()=>{window.dispatchEvent(new Event("locationchange"))})}window.addEventListener("locationchange",()=>{const e=document.URL;if(e!==xe){const e=document.URL;var t=new URL(e).searchParams.get("variant");v&&console.log("vid",t),xe=e,t&&Me(t),we=!1,v&&console.log("清除定时器")}}),-1!==e.indexOf("variant=")&&1742274613!=y||Oe()}else b&&Oe();if(Le(),1!==u.popup_option){const n=N(".buyer-email"),o=N(".buyer-phone"),r=N(".buyer-phone-container"),l=N(".email-type"),s=N(".sms-type"),c=N(".iti--allow-dropdown");c||new Promise(t=>{Ue("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/css/intlTelInput.css").then(e=>{200===e.code&&(document.head.insertAdjacentHTML("beforeend",`
      <style>
        .iti__flag {background-image: url("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/img/flags.png");}
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
              .iti__flag {background-image: url("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/img/flags@2x.png");}
              }
        .iti.iti--allow-dropdown {
          width: 100%;
        display: flex;
        height: var(--sa-button-height-normal);
        margin-top: 10px;
              }
        .iti__country {
          color: #777777;
              }
        .iti--container {
          z-index: 999999999 !important;
              }
      </style>
      `),Ue("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/js/intlTelInput.min.js",!0).then(e=>{e.onload=function(){p=window.intlTelInput(o,{utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/js/utils.min.js",autoPlaceholder:"aggressive",initialCountry:u.sms_default_region||""}),v&&console.log("Script Loaded"),v&&console.log(o),o.addEventListener("input",e=>{v&&console.log("getNumber",p.getNumber()),v&&console.log("getSelectedCountryData",p.getSelectedCountryData()),p.isValidNumber()?L(!1):L(!0)}),o.addEventListener("blur",e=>{v&&console.log("isValidNumber",p.isValidNumber()),p.isValidNumber()?L(!1):L(!0)})},document.body.appendChild(e),t({code:200})}))})}).then(e=>{200===e.code&&3===u.popup_option&&(m=new Proxy({type:"email"},{set(e,t,i){return v&&console.log(e,t,i),a(e[t]=i),!0}}),a(m.type),l.addEventListener("click",()=>{m.type="email"}),s.addEventListener("click",()=>{m.type="sms"}))});function a(e){switch(w.style.visibility="hidden",e){case"sms":n.style.display="none",r.style.display="flex",l.className="email-type",s.className="sms-type type-selected";break;case"email":s.className="sms-type",n.style.display="block",r.style.display="none",l.className="email-type type-selected";break;default:w.style.visibility="hidden"}}}}else v&&console.log("Insert failed")})})}function Te(e,t){return re?new Promise(e=>{e({code:200})}):(v&&console.log("Get Button Style"),z(r+"api/v1/"+t,{shopId:e,shop_language:o}).then(t=>{v&&console.log("Get Button Style Success");const{code:e,data:i}=t;if(200===e&&i){re=1,Object.keys(_).forEach(e=>{_[e]=i[e]}),N("#sealapps-bis-widget")&&(_.inline_status=1),Object.keys(Q).forEach(e=>{Q[e]=i[e]}),b&&(Q.btn_font_family=Q.btn_font_weight="inherit");{v&&console.log("renderSettingStyles");var{btn_font_size:t,btn_hover_animation:a,btn_border_radius:n,btn_border_color:o,btn_font_weight:r,btn_font_family:l,btn_margin_top:s,btn_margin_bottom:c,btn_hover_font_color:d,btn_hover_color:p,btn_customize_css:u}=Q;let e=`
      .email-me-button {
        font-size: ${t}px !important;
      font-weight: ${r} !important;
      font-family: ${l} !important;
      border-color: ${o} !important;
      border-radius: ${n}px !important;
      border-width: 2px;
      border-style: solid;
      }
      .email-me-inlineButton {
        margin-top: ${s}px !important;
      margin-bottom: ${c}px !important;
      }
      .email-me-button:hover {
        color: ${d} !important;
      background-color: ${p} !important;        
      }
      ${u}
      `;a&&(e+=`
      .email-me-inlineButton::after,
      .email-me-inlineButton::before,
      .email-me-submitButton::after,
      .email-me-submitButton::before {
          content:'';
          color: ${_.btn_color};
          font-size: ${t}px; 
          text-align: center; 
          border-radius: ${n}px;
          width: 0;
          height: 100%;
          background-color: ${p};
          position: absolute;
          left:0;
          transition: all ease-in-out .35s;
          top:0;
          z-index: -2;
      }
      .email-me-inlineButton::before,
      .email-me-submitButton::before {
          z-index: -1;
          background-color: ${p};
      }
      .email-me-inlineButton:hover,
        .email-me-submitButton:hover {
          z-index: 1;
          color: ${d} !important;
          background-color: ${p} !important;
      }
      .email-me-button:hover::before,
      .email-me-button:hover::after
      {
          width: 100%;
      }
      `),r=`
      <style>
        ${e}
      </style>
      `,document.head.insertAdjacentHTML("beforeend",r)}{v&&console.log("changeButtonPos");let{btn_insert_customized:e,btn_insert_el:t,btn_insert_type:i}=_;if(e&&t){if(53793915066===y&&136421834975===h&&(t=".product__submit__item.product__submit__item--inline"),f)oe=N(t)||I;else if(b){g=C(t);var m=g=Array.from(g);g=[];for(let e=0;e<m.length;e++)H.includes(e)&&g.push(m[e])}x=i||"afterend"}f&&(l=N("#sealapps-bis-widget"))&&(oe=l,x="beforeend")}}}))}function Le(){switch(u.popup_option){case 1:E=N(".buyer-email");break;case 2:A=N(".buyer-phone");break;case 3:E=N(".buyer-email"),A=N(".buyer-phone")}switch(me=N(".email-frame-body .buyer-name"),S=N(".successSub"),w=N(".invalid-email-tips"),c=N("#email-me-frame"),pe=N("#email-me-frame .close-box"),ue=N(".frame-submit .email-me-button"),k=N(".selected-unavailable-variant"),ce=C(".product-restore-email"),de=N("#product-restore-email-float"),s=C(".email-me-inlineButton"),n=N(".email-me-floatButton"),fe=N("#join-mailing-list")||{},insertStyle=N("#email-insert-style"),u.popup_option){case 1:E.addEventListener("blur",Re);break;case 2:break;case 3:E.addEventListener("blur",Re)}ue.addEventListener("click",qe),pe.addEventListener("click",function(){(c.style.display="none")!==k.style.display&&ve&&ve.removeAttribute("selected")}),S.addEventListener("click",function(){S.classList.remove("successSub_active")}),f&&Ne(),s.length&&s.forEach((e,t)=>{e.addEventListener("click",function(e){e.preventDefault(),ze();let t;c.style.display="block";var i=c.querySelector(".selected-unavailable-variant");b&&(t=this.parentNode.parentNode.getAttribute("proId"),(e=i.getAttribute("proId"))?e!==t&&(_e=0,B=d.find(e=>e.proId==t).variants,T=[],Ne(),i.innerHTML="",i.setAttribute("proId",t)):(T=[],B=d.find(e=>e.proId==t).variants,Ne(),i.setAttribute("proId",t)));for(let e=0;e<T.length;e++)0===_e&&i.add(T[e]),T[e].getAttribute("value")===j.toString()&&(ve=i.querySelectorAll("option")[e]).setAttribute("selected","selected");_e=1})}),n&&n.addEventListener("click",function(){ze(),c.style.display="block";for(let e=0;e<T.length;e++)0===_e&&k.add(T[e]),T[e].getAttribute("value")===j.toString()&&(ve=k.querySelectorAll("option")[e]).setAttribute("selected","selected");_e=1})}function ze(){"{}"!=JSON.stringify(F)&&(me.value=F.name,E&&(E.value=F.email),A)&&(A.value=F.phone.replace(/[^0-9]/g,""))}function Ne(){let t=0,i,a="id";f?i="title":b&&(i="variantTitle",a="variantRid");for(let e=0;e<B.length;e++)(l.includes(String(B[e].id))&&f||b)&&(b&&!function(t){ye=d.find(e=>e.proId==t).productName;var e=N(".frame-body-content");e.innerText=ye}(B[e].productRid),"Default Title"===B[e][i]&&(k.style.display="none"),T[t]=function({tag:e,appendTo:t,children:i=[],attributes:a,events:n={}}){const o=document.createElement(e);Object.entries(a).forEach(([e,t])=>{o[e]=t}),Object.entries(n).forEach(([e,t])=>{o.addEventListener(e,t)}),t&&t.appendChild(o);return i.forEach(e=>o.appendChild(e)),o}({tag:"option",attributes:{value:B[e][a],textContent:B[e][i]}}),t++)}v&&console.log("Init data finished"),Ee(),z(r+"api/v1/collect/config",{type:"user_config"});const Ce=function(e,t){let i;return function(){clearTimeout(i),i=null,i=setTimeout(()=>{t()},e)}}(600,async()=>{P.disconnect();var e=await Ae(),t=C(".product-restore-email").length;(e.length===M&&t?Oe:(v&&console.log("监听成功，开始运行"),d=[],g=[],a=0,await ke(),Ee))()});function Oe(){let e;var t;f?e=55013703857==y?N(".select-selected, select[name=id]"):1742274613==y?N(".option-1"):42547151016==y&&122478428328===h?N(".swatch-variants-wrapper"):57593233596==y&&132009820348===h?N(".swatches-select.swatch__list_pr"):16708787==y&&141528334609===h?N(".shopify-product-form"):N("input[name=id], select[name=id]"):b&&(e=N("main")),e&&(t={attributes:!0,childList:!0,subtree:!0},(P=new MutationObserver(Pe)).observe(e,t),v)&&console.log("监听器启动中")}function Pe(){if(f){v&&console.log("监听到元素变化，检查variant变化");let e;if(55013703857==y){const a=N(".select-selected").innerText;e=B.find(e=>e.title==a).id}else if(1742274613==y){var t=N(".option-0"),i=N(".option-1");const n=t.querySelector(".selected_val").innerText,o=i.querySelector(".selected_val").innerText;e=B.find(e=>e.option1==n&&e.option2==o).id}else e=N("input[name=id], select[name=id]").value;Me(e)}else b&&Ce()}function Me(t){t&&String(j)!==String(t)&&(j=t,ge=B.find(e=>e.id==t),he=ge.available,(!l.includes(String(j))||re)&&le||Be(),l.includes(String(j))&&!a&&He(),1===a)&&(v&&console.log("initEmailToMeEle"),v&&console.log(ge),De())}function He(){v&&console.log("createEmailButton"),0===a&&z(r+"api/v1/email/selBtnStatus",{shopId:y}).then(e=>{var{code:e,data:t}=e;200===e&&(1==t.status||2==t.status||0==t.status||t.snsStatus?(a=1,De()):a=t.status)})}function De(){1===a&&(l.includes(String(j))&&f||b)?(e&&e(),s&&(s.forEach(e=>e.style.display="flex"),ce.forEach(e=>e.style.display="flex")),n&&(n.style.display="flex",de.style.display="flex")):(s&&ce.forEach(e=>{e.style.display="none"}),n&&(de.style.display="none"))}function Re(){var e=E.value;new RegExp(/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,}$/).test(e)?w.style.visibility="hidden":L(!0,{type:"email",info:u.popup_validation_text})}function qe(){var e,t,i=u["popup_validation_text"];let a;switch(me&&(a=me.value),m.type){case"sms":(A&&A.value||"")&&p.isValidNumber()?(L(!1),t={buyerName:a},t={shopId:y,variant_rid:k.value,receiver_number:function(e){var t=p.getSelectedCountryData().dialCode;return(e=e.replace(/\b(0+)/gi,"")).startsWith(t)?e:t+e}(A.value.trim()),region:p.getSelectedCountryData().iso2.toUpperCase(),is_integration:Number(fe.checked||!1),receiver_name:t.buyerName||"customer",customer_rid:0,shop_language:o},n=r+"api/v1/sns/insCustomerSnsInfo",ue.parentElement.className="frame-submit loading",z(n,t).then(e=>{var{code:e,message:t}=e;200===e?(c.style.display="none",S.classList.add("successSub_active"),setTimeout(function(){S.classList.remove("successSub_active")},4e3)):108===e||107===e?(w.style.visibility="visible",w.innerHTML=u.popup_subscribed_text):109===e?(w.style.visibility="visible",w.innerHTML=u.popup_validation_text):(w.style.visibility="visible",w.innerHTML=t)}).finally(()=>{ue.parentElement.className="frame-submit"})):L(!0,{type:"sms",info:i});break;case"email":var n=E.value;n&&new RegExp(/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,}$/).test(n)?(L(!1),t={buyerName:a},t={shopId:y,variant_rid:k.value,receiver_email:document.getElementsByClassName("buyer-email")[0].value,receiver_name:t.buyerName||"customer",is_integration:Number(fe.checked||!1),customer_rid:0,shop_language:o},e=r+"api/v1/email/insCustomerEmailInfo",ue.parentElement.className="frame-submit loading",z(e,t).then(e=>{var{code:e,message:t}=e;200===e?(c.style.display="none",S.classList.add("successSub_active"),setTimeout(function(){S.classList.remove("successSub_active")},4e3)):108===e||107===e?(w.style.visibility="visible",w.innerHTML="* You are already subscribed to this product."):109===e?(w.style.visibility="visible",w.innerHTML=u.popup_validation_text):(w.style.visibility="visible",w.innerHTML=t)}).finally(()=>{ue.parentElement.className="frame-submit"})):L(!0,{type:"email",info:i});break;default:return}}function L(e,t){var i=getComputedStyle(w),{type:t,info:a}=t||{type:m.type,info:u.popup_validation_text};switch(t){case"sms":case"email":"hidden"===i.visibility?(w.style.visibility="visible",w.innerHTML=a):w.style.visibility="hidden";break;default:w.style.visibility="hidden"}v&&console.log(w),e?w.style.visibility="visible":!1===e&&(w.style.visibility="hidden")}function Ue(o,r=!1){return new Promise((e,t)=>{try{var i,a,n=o.endsWith(".js")?"js":"css";"js"==n?((i=document.createElement("script")).setAttribute("type","text/javascript"),i.setAttribute("src",o),r&&e(i),document.head.appendChild(i),e({code:200,data:i,type:"script"})):"css"==n&&((a=document.createElement("link")).setAttribute("rel","stylesheet"),a.setAttribute("href",o),r&&e(a),document.head.appendChild(a),e({code:200,data:a,type:"style"}))}catch(e){t({code:600,err:e})}})}function z(i,o,r,l="POST"){return new Promise((a,t)=>{i||a({code:999,data:"没有传api地址"});try{var e=o||{};(!o||Object.keys(o).includes("shopId"))&&o||(e.shopId=y);const n=new XMLHttpRequest;n.open(l,i,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("authorization",V),n.setRequestHeader("Org-Request-ID",function(t){t=t&&t<64?t:63;let i="";var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_";for(let e=0;e<t;++e)i+=a[Math.floor(Math.random()*a.length)];var e=+new Date;return i+e}(37)),n.setRequestHeader("Org-Request-URL",window.location.href),n.send(JSON.stringify(e)),n.onreadystatechange=function(){var e,t,i;(4==n.readyState&&200==n.status||304==n.status)&&({code:t,data:i}=e=JSON.parse(this.responseText),200===t?(r&&r(i),a(e)):500!==t&&a(e))}}catch(e){t(e)}})}function Ve(e){"string"==typeof e?document.head.insertAdjacentHTML("beforeend",e):document.head.appendChild(e)}function Fe(e){e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),e=window.location.search.substr(1).match(e);return null!=e?unescape(e[2]):null}function N(e,t){let i;return i=(t||document).querySelector(e)}function C(e,t){let i;return i=(t||document).querySelectorAll(e)}}();